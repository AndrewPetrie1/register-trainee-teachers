<%= render PageTitle::View.new(title: "check_details.show") %>

<%= content_for(:breadcrumbs) do %>
  <%= render GovukComponent::BackLink.new(
    text: 'Back to draft record',
    href: review_draft_trainee_path(@trainee),
    html_attributes:{
      id: "back-to-draft-record"
    }
  ) %>
<% end %>

<h1 class="govuk-heading-l">
  <span class="govuk-caption-l">
    Draft record for <%= trainee_name(@trainee)  %>
  </span>
  Review trainee record
</h1>

<h2 class="govuk-heading-m">
  Personal details and education
</h2>

<%#= render Trainees::CheckDetails::ContactDetails.new(trainee: @trainee) %>


<%= render partial: "trainees/check_details/section", locals: { section: :personal_details, trainee: @trainee } %>

<%= render partial: "trainees/check_details/section", locals: { section: :contact_details, trainee: @trainee } %>

<%= render partial: "trainees/check_details/section", locals: { section: :diversity, trainee: @trainee } %>

<%= render partial: "trainees/check_details/section", locals: { section: :degrees, trainee: @trainee } %>

<h2 class="govuk-heading-m">
  About their training
</h2>
<%= render Trainees::Confirmation::TrainingDetails::View.new(trainee: @trainee) %>

<%= render partial: "trainees/check_details/section", locals: { section: :programme_details, trainee: @trainee } %>

<%= form_with url: trn_submissions_path, method: :post, local: true do |f| %>
  <%= hidden_field_tag :trainee_id, @trainee.slug %>
  <%= f.govuk_submit "Submit record and request TRN" %>
<%- end -%>

<p class="govuk-body"><%= govuk_link_to("Return to this draft record later", trainees_path, { id: "return-to-draft-later" }) %></p>
