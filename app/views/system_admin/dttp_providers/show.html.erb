<%= render PageTitle::View.new(text: @provider.name, has_errors: @provider.errors.present?) %>

<%= render GovukComponent::BackLinkComponent.new(
  text: "Back",
  href: providers_path,
) %>

<h1 class="govuk-heading-xl"><%= @provider.name %></h1>

<p class="govuk-body">
  <%= render GovukComponent::StartButtonComponent.new(
  text: "Add a user",
  href: new_provider_user_path(@provider),
) %>
</p>

<% if @provider.users.kept.any? %>
  <div class="govuk-!-margin-bottom-8">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-half">
        <h2 class="govuk-heading-m"><%= pluralize(@provider.users.kept.count, "user") %> </h2>
      </div>
    </div>
    <% @users.each do |user| %>
      <%= render UserCard::View.new(
        user: user,
        edit_path: edit_user_path(user),
      ) %>
    <% end %>
  </div>
<% else %>
  <h2 class="govuk-heading-m">There are no users yet.</h2>
<% end %>
